@model _03_Dominio.entPedido
@using _03_Dominio

@{
    ViewBag.Title = "MenuPedido";
    Layout = "~/Views/MasterPages/MasterIntranet.cshtml";
}

<h2>Detalles del Pedido @Html.DisplayFor(model => model.PedidoID):</h2>
<div>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Cliente.Persona.Nombre)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Cliente.Persona.Nombre) @Html.DisplayFor(model => model.Cliente.Persona.Apellidos)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TipoPedido)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TipoPedido)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Fecha)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Fecha)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Cliente.Persona.Direccion)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Cliente.Persona.Direccion)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TipoPago.DescripcionTipoPago)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TipoPago.DescripcionTipoPago)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EstadoPedido)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EstadoPedido)
        </dd>

    </dl>
</div>

@{
    List<entMenu> lista = (List<entMenu>)ViewBag.lista;
    <table class="table">
        <tr>
            <th>
                Entrada
            </th>
            <th>
                Segundo
            </th>
            <th>
                Postre
            </th>
            <th>
                Cantidad
            </th>
            <th>
                Precio
            </th>
            <th>
                Subtotal
            </th>
        </tr>

        @foreach (var item in lista)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Entrada.NombreProducto)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Segundo.NombreProducto)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Postre.NombreProducto)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Cantidad)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Precio)
                </td>
                <td>
                    @(@item.Precio * @item.Cantidad)
                </td>
            </tr>
        }

    </table>
}

<div>
    <a href="@Url.Action("Main","Pedido")" class="btn btn-default">Regresar</a>
</div>

@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            muestra();
        });

        var muestra = function () {
            $('#detalle').load('@Url.Action("DetalleMenuPedido")', { pedidoID: $('#codigo').val() })
            //$('#Nombre').val()
        }
    </script>
}